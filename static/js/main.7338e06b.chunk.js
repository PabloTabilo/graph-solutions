(this["webpackJsonpgraph-solutions"]=this["webpackJsonpgraph-solutions"]||[]).push([[0],{16:function(t,e,n){},25:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var i=n(0),s=n.n(i),o=n(17),r=n.n(o),a=n(5),h=(n(16),n(8)),c=n(6),l=n(7),u=function(){function t(e,n,i){Object(c.a)(this,t),this.id=e,this.x=n,this.y=i,this.connectTo={},this.selectMe=!1,this.partOfSolution=!1,this.numConnections=0}return Object(l.a)(t,[{key:"addNeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.connectTo[t]=e,this.numConnections++}},{key:"removeNeight",value:function(t){delete this.connectTo[t],this.numConnections--}},{key:"drawEdge",value:function(t,e,n,i,s){s?(t.strokeStyle="orange",t.lineWidth=5):(t.lineWidth=1,t.strokeStyle="black"),t.beginPath();var o=this.x,r=this.y,a=e.x,h=e.y;t.moveTo(o,r);var c=a-this.x,l=h-this.y,u=Math.atan2(l,c),d=h-20*Math.sin(u),v=a-20*Math.cos(u);if(t.lineTo(v,d),n){t.moveTo(v,d),t.lineTo(v-15*Math.cos(u-Math.PI/6),d-15*Math.sin(u-Math.PI/6)),t.moveTo(v,d),t.lineTo(v-15*Math.cos(u+Math.PI/6),d-15*Math.sin(u+Math.PI/6))}t.stroke(),t.font="25px Comic Sans MS",t.fillStyle=s?"red":"gray",t.textAlign="center",t.fillText(i,(o+a)/2,(r+h)/2)}},{key:"drawVertex",value:function(t){t.beginPath(),t.arc(this.x,this.y,20,0,2*Math.PI),this.selectMe?t.fillStyle="orange":t.fillStyle="white",this.partOfSolution&&(t.fillStyle="orange"),t.fill(),t.lineWidth=2,t.strokeStyle="black",t.stroke(),t.font="15px Comic Sans MS",t.fillStyle="black",t.textAlign="center",t.fillText(this.id,this.x,this.y)}}]),t}(),d=function(){function t(e,n,i){var s=this;Object(c.a)(this,t),this.redraw=function(t){var e=[],n=!1;for(var i in t.clearRect(0,0,s.width,s.height),s.nodesOn){if(s.nodesOn[i].numConnections>0)for(var o in s.nodesOn[i].connectTo){if(0===e.length)e.push((parseInt(o)+1)*(parseInt(i)+1));else{var r,a=Object(h.a)(e);try{for(a.s();!(r=a.n()).done;){var c=r.value;parseInt(c)===(parseInt(o)+1)*(parseInt(i)+1)&&(n=!0)}}catch(l){a.e(l)}finally{a.f()}}n||s.nodesOn[i].drawEdge(t,s.nodesOn[o],s.directed,s.nodesOn[i].connectTo[o],!1),n=!1}s.nodesOn[i].drawVertex(t)}},this.auto_id=0,this.numNodes=0,this.nodesOn={},this.height=e,this.width=n,this.directed=i}return Object(l.a)(t,[{key:"addNode",value:function(t,e){return void 0===this.nodesOn[this.auto_id]&&(this.nodesOn[this.auto_id]=new u(this.auto_id,t,e),this.auto_id++,this.numNodes++,!0)}},{key:"addNeightNode",value:function(t,e,n){this.nodesOn[t].addNeight(e,n),this.directed||this.nodesOn[e].addNeight(t,n)}},{key:"removeNode",value:function(t){for(var e in this.nodesOn)if(this.nodesOn[e].numConnections>0)for(var n in this.nodesOn[e].connectTo)n===t&&delete this.nodesOn[e].connectTo[n];this.nodesOn[t].connectTo={},delete this.nodesOn[t],this.numNodes--}}]),t}();function v(t,e){return t[2]<e[2]?-1:t[2]>e[2]?1:0}var f=function(){function t(e){Object(c.a)(this,t),this.myGraph=e,this.numComponents=e.numNodes,this.solution=[]}return Object(l.a)(t,[{key:"find",value:function(t,e){for(var n=t;n!==e[n];)n=e[n];for(;t!==n;){var i=e[t];e[t]=n,t=i}return n}},{key:"union",value:function(t,e,n,i){var s=this.find(t,n),o=this.find(e,n);return s!==o&&(i[s]<i[o]?(i[o]+=i[s],n[s]=parseInt(o)):(i[s]+=i[o],n[o]=parseInt(s)),this.numComponents--,!0)}},{key:"solve",value:function(){var t=[];for(var e in this.myGraph.nodesOn)for(var n in this.myGraph.nodesOn[e].connectTo){var i=[e,n,this.myGraph.nodesOn[e].connectTo[n]];t.push(i)}t=t.sort(v);var s,o={},r={},a=new Map(Object.entries(this.myGraph.nodesOn)),c=Object(h.a)(a);try{for(c.s();!(s=c.n()).done;){var l=s.value;o[l[1].id]=1,r[l[1].id]=l[1].id}}catch(O){c.e(O)}finally{c.f()}for(var u=0;u<t.length;){var d=parseInt(t[u][0]),f=parseInt(t[u][1]);if(this.union(d,f,r,o)){var p=parseInt(t[u][2]);this.solution.push([d,f,p])}u++}}}]),t}(),p=1e9,O=function(){function t(e){Object(c.a)(this,t),this.capacity=e,this.heap_size=0,this.triplete={},this.values={},this.pm={},this.idCount=0,this.im=new Array(e);for(var n=0;n<e;n++)this.im[n]=p}return Object(l.a)(t,[{key:"poll",value:function(){var t=this.im[0];this.im[0]=this.im[this.heap_size-1],this.pm[this.im[this.heap_size-1]]=0,this.values[t]=p,this.im[this.heap_size-1]=p,this.pm[t]=-1,this.heap_size--,this.sink(0)}},{key:"sink",value:function(t){for(;;){var e=this.leftChild(t),n=this.rightChild(t),i=e;if(n<=this.heap_size-1&&this.values[this.im[n]]<this.values[this.im[e]]&&(i=n),i>this.heap_size-1||this.values[this.im[i]]>this.values[this.im[t]])break;this.swap(t,i),t=i}}},{key:"swim",value:function(t){for(;this.parent(t)>=0&&this.values[this.im[this.parent(t)]]>this.values[this.im[t]];)this.swap(t,this.parent(t)),t=this.parent(t)}},{key:"swap",value:function(t,e){this.pm[this.im[t]]=e,this.pm[this.im[e]]=t;var n=this.im[t];this.im[t]=this.im[e],this.im[e]=n}},{key:"insert",value:function(t){if(this.heap_size===this.capacity){var e=this.im;this.im=new Array(2*this.capacity);for(var n=0;n<this.capacity;n++)this.im[n]=p;this.capacity=2*this.capacity;for(var i=0;i<e.length;i++)this.im[i]=e[i]}this.heap_size++;var s=this.heap_size-1;this.values[this.idCount]=t.cost,this.triplete[this.idCount]=t,this.pm[this.idCount]=this.heap_size-1,this.im[this.heap_size-1]=this.idCount,this.idCount++,this.swim(s)}},{key:"empty",value:function(){return 0===this.heap_size}},{key:"parent",value:function(t){return(t-1)/2|0}},{key:"leftChild",value:function(t){return 2*t+1}},{key:"rightChild",value:function(t){return 2*t+2}},{key:"front",value:function(){return{id:this.im[0],c:this.values[this.im[0]],e:this.triplete[this.im[0]]}}}]),t}(),j=function(){function t(e){Object(c.a)(this,t),this.myGraph=e,this.n=e.numNodes,this.solution=[],this.visited={},this.pq=new O(2*this.n);var n,i=new Map(Object.entries(e.nodesOn)),s=Object(h.a)(i);try{for(s.s();!(n=s.n()).done;){var o=n.value;this.visited[o[1].id]=!1}}catch(a){s.e(a)}finally{s.f()}this.mstCost=0,this.mstEdges=[];for(var r=0;r<this.n;r++)this.mstEdges.push(null)}return Object(l.a)(t,[{key:"addEdge",value:function(t){this.visited[t]=!0;var e,n=this.myGraph.nodesOn[t].connectTo,i=new Map(Object.entries(n)),s=Object(h.a)(i);try{for(s.s();!(e=s.n()).done;){var o=e.value,r=this.myGraph.nodesOn[o[0]];this.visited[r.id]||this.pq.insert({from:t,to:r.id,cost:o[1]})}}catch(a){s.e(a)}finally{s.f()}}},{key:"lazyPrims",value:function(t){var e=this.n-1,n=0;for(this.addEdge(t);!this.pq.empty()&&n!==e;){var i=this.pq.front().e,s=i.to;this.pq.poll(),this.visited[s]||(this.mstEdges[n++]=i,this.mstCost+=i.cost,this.solution.push([i.from,i.to,i.cost]),this.addEdge(s))}return n===e}},{key:"solve",value:function(){this.lazyPrims(this.myGraph.nodesOn[0].id)}}]),t}();function m(t,e){return null!==t&&e.nodesOn[t].selectMe?(e.nodesOn[t].selectMe=!1,e.removeNode(t),[e,null,!0]):[e,t,!1]}function b(t,e,n,i){var s=t.clientX,o=t.clientY;return null!==n&&i?(e.nodesOn[n].x=s,e.nodesOn[n].y=o,[e,!0]):[e,!1]}function g(t,e,n,i){var s,o,r=t.clientX,h=t.clientY;if(0===e.numNodes)e.addNode(r,h);else{var c=function(t,e,n){var i=0,s=1e10;for(var o in t.nodesOn){var r=Math.pow(t.nodesOn[o].x-e,2)+Math.pow(t.nodesOn[o].y-n,2);s>r&&(s=r,i=o)}return[s,i]}(e,r,h),l=Object(a.a)(c,2),u=l[0],d=l[1];u<800&&!e.nodesOn[d].selectMe?(e.nodesOn[d].selectMe=!0,null===n?n=d:(i=d,e.addNeightNode(n,i,(s=-20,o=20,Math.floor(Math.random()*(o-s))+s)),e.nodesOn[n].selectMe=!1,e.nodesOn[i].selectMe=!1,n=null,i=null)):u<800&&e.nodesOn[d].selectMe?(e.nodesOn[d].selectMe=!1,n===d&&(e.nodesOn[n].selectMe=!1,n=null)):e.addNode(r,h)}return[e,n,i]}var y=n(1);function x(t,e){return Math.floor(Math.random()*(e-t))+t}var w=null,M=null,k=!1;var C=function(t){var e=t.height,n=t.width,s=Object(i.useRef)(null),o=Object(i.useRef)(null);Object(i.useEffect)((function(){var t=s.current.getContext("2d");o.current=t}),[]);var r=new d(e,n,!1),h=function(){(r=new d(e,n,!1)).redraw(o.current)};function c(t,e){if(!(t>=e.length)){var n=e[t][0],i=e[t][1],s=e[t][2];r.nodesOn[n].drawEdge(o.current,r.nodesOn[i],!1,s,!0),r.nodesOn[n].partOfSolution=!0,r.nodesOn[n].drawVertex(o.current),r.nodesOn[i].partOfSolution=!0,r.nodesOn[i].drawVertex(o.current),r.nodesOn[n].partOfSolution=!1,r.nodesOn[i].partOfSolution=!1,setTimeout((function(){c(t+1,e)}),1e3)}}return Object(y.jsxs)("main",{children:[Object(y.jsx)("canvas",{onClick:function(t){t.preventDefault();var e=g(t,r,w,M),n=Object(a.a)(e,3);r=n[0],w=n[1],M=n[2],r.redraw(o.current)},onMouseDown:function(t){null!==w&&(k=!0)},onTouchStart:function(t){null!==w&&(k=!0)},onTouchMove:function(t){var e=b({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY},r,w,k),n=Object(a.a)(e,2);r=n[0],n[1]&&r.redraw(o.current)},onMouseMove:function(t){t.preventDefault();var e=b(t,r,w,k),n=Object(a.a)(e,2);r=n[0],n[1]&&r.redraw(o.current)},onMouseUp:function(t){t.preventDefault(),k=!1},onTouchEnd:function(t){k=!1},className:"canvas",ref:s,width:n,height:e}),Object(y.jsxs)("div",{id:"control-panel",children:[Object(y.jsxs)("div",{id:"changeButtons",children:[Object(y.jsx)("button",{id:"play",onClick:function(){var t;if("kruskal"===document.getElementById("algorithms").value){var e=new f(r);e.solve(),t=e.solution}else{var n=new j(r);n.solve(),t=n.solution}c(0,t)},children:"Solve"}),Object(y.jsx)("button",{id:"removeMe",onClick:function(){var t=m(w,r),e=Object(a.a)(t,3);r=e[0],w=e[1],e[2]&&r.redraw(o.current)},children:"Remove Node"}),Object(y.jsx)("button",{id:"Clear",onClick:function(){r.redraw(o.current)},children:"Clear Board"}),Object(y.jsx)("button",{id:"drop",onClick:h,children:"Drop Graph"}),Object(y.jsx)("button",{id:"autograph",onClick:function(){h();for(var t=x(5,9),i=0;i<t;i++){var s=x(20,n-20),a=x(20,e-20);r.addNode(s,a)}for(var c=0;c<t;c++)for(var l=0;l<t;l++)c!==l&&Math.random()>=.8&&r.addNeightNode(c,l,x(-20,20));r.redraw(o.current)},children:"AutoGraph"})]}),Object(y.jsxs)("div",{id:"algorithms-topic",children:[Object(y.jsx)("h1",{children:"Select an algorithm for Minimum Spaning Tree: "}),Object(y.jsxs)("select",{id:"algorithms",children:[Object(y.jsx)("option",{value:"kruskal",children:"Kruskal's MST"}),Object(y.jsx)("option",{value:"prim",children:"Prim's MST"})]})]})]})]})},S=null,T=null,N=!1;var _=function(t){var e=t.height,n=t.width,s=Object(i.useRef)(null),o=Object(i.useRef)(null);Object(i.useEffect)((function(){var t=s.current.getContext("2d");o.current=t}),[]);var r=new d(e,n,!0);return Object(y.jsxs)("main",{children:[Object(y.jsx)("canvas",{onClick:function(t){var e=g(t,r,S,T),n=Object(a.a)(e,3);r=n[0],S=n[1],T=n[2],r.redraw(o.current)},onMouseDown:function(t){null!==S&&(N=!0)},onTouchStart:function(t){},onMouseMove:function(t){var e=b(t,r,S,N),n=Object(a.a)(e,2);r=n[0],n[1]&&r.redraw(o.current)},onMouseUp:function(t){N=!1},onTouchEnd:function(t){},className:"canvas",ref:s,width:n,height:e}),Object(y.jsxs)("div",{id:"control-panel",children:[Object(y.jsxs)("div",{id:"changeButtons",children:[Object(y.jsx)("button",{id:"removeMe",onClick:function(){var t=m(S,r),e=Object(a.a)(t,3);r=e[0],S=e[1],e[2]&&r.redraw(o.current)},children:"Remove Node"}),Object(y.jsx)("button",{id:"autograph",children:"AutoGraph"})]}),Object(y.jsxs)("div",{id:"algorithms-topic",children:[Object(y.jsx)("h1",{children:"Select an algorithm for find the TopologicalSorting: "}),Object(y.jsxs)("select",{children:[Object(y.jsx)("option",{children:"Kahn Algorithm"}),Object(y.jsx)("option",{children:"Classic DFS"})]})]})]})]})},I=(n(25),n(9)),z=n(2);var E=function(){var t=window.innerWidth;return Object(y.jsxs)(I.a,{children:[Object(y.jsx)("main",{children:Object(y.jsxs)(z.c,{children:[Object(y.jsx)(z.a,{exact:!0,path:"/graph-solutions/",children:Object(y.jsx)(C,{width:t,height:400})}),Object(y.jsx)(z.a,{exact:!0,path:"/graph-solutions/topo",children:Object(y.jsx)(_,{width:t,height:400})}),Object(y.jsx)(z.a,{exact:!0,path:"/graph-solutions/",children:Object(y.jsx)(C,{width:t,height:400})}),Object(y.jsx)(z.a,{exact:!0,path:"/graph-solutions/topo",children:Object(y.jsx)(_,{width:t,height:400})})]})}),Object(y.jsxs)("div",{id:"switcher",children:[Object(y.jsx)("div",{children:Object(y.jsx)(I.b,{to:"/graph-solutions/",children:"Minimum Spaning Tree"})}),Object(y.jsx)("div",{children:Object(y.jsx)(I.b,{to:"/graph-solutions/topo",children:"Topological Sorting"})}),Object(y.jsx)("div",{children:Object(y.jsx)(I.b,{to:"/graph-solutions/",children:"Strongly Connected Components"})}),Object(y.jsx)("div",{children:Object(y.jsx)(I.b,{to:"/graph-solutions/topo",children:"MaxFlow"})})]})]})};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(E,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.7338e06b.chunk.js.map